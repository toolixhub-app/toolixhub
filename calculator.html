<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Calculator 1.0</title>
<style>
/* --- Identidade Visual Unificada --- */
:root {
  --bg-color: #121212;
  --container-bg: #1e1e1e;
  --text-color: #e0e0e0;
  --secondary-text: #888;
  --accent-color: #00bcd4; /* Azul Ciano - Bot√£o Igual */
  --highlight-color: #c6ff00; /* Verde Lima - Display */
  --border-color: #555;
  --btn-bg: #333;
  --btn-hover: #444;
  --special-btn-bg: #555; /* Bot√µes de opera√ß√£o */
  --ac-btn-bg: #ff5252; /* Bot√£o Clear */
  --ad-bg: #2a2a2a;
}

body.light-theme {
  --bg-color: #f4f4f4;
  --container-bg: #ffffff;
  --text-color: #333;
  --secondary-text: #666;
  --accent-color: #008ba3;
  --highlight-color: #000;
  --border-color: #ccc;
  --btn-bg: #e0e0e0;
  --btn-hover: #d0d0d0;
  --special-btn-bg: #bbb;
  --ac-btn-bg: #ff7961;
  --ad-bg: #eee;
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0;
  padding: 10px;
  transition: background-color 0.3s, color 0.3s;
}

h1 { margin-bottom: 5px; font-size: 24px; color: var(--text-color); }
.subtitle { color: var(--secondary-text); margin-bottom: 10px; font-size: 14px; }

/* Ad Space Styling */
.ad-space {
    background-color: var(--ad-bg);
    color: var(--secondary-text);
    width: 100%;
    max-width: 320px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 10px 0;
    border-radius: 8px;
    font-size: 12px;
    border: 1px dashed var(--border-color);
}

.main-container {
  background: var(--container-bg);
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.3);
  width: 100%;
  max-width: 320px; /* Largura padr√£o calculadora */
}

/* Theme Toggle */
#theme-toggle {
    margin-bottom: 15px;
    background: var(--btn-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 20px;
    padding: 8px 16px;
    cursor: pointer;
    font-size: 12px;
    width: 100%;
}

/* Calculator Display */
#calc-display {
    background: #000;
    color: var(--highlight-color);
    font-family: 'Courier New', Courier, monospace;
    font-size: 36px;
    text-align: right;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    overflow-x: auto;
    font-weight: bold;
    letter-spacing: -1px;
}

/* Buttons Grid */
.calc-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
}

.btn-calc {
    background-color: var(--btn-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 20px 10px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
    touch-action: manipulation;
}

.btn-calc:hover { background-color: var(--btn-hover); }

/* Special Buttons */
.btn-calc.op { background-color: var(--special-btn-bg); }
.btn-calc.ac { background-color: var(--ac-btn-bg); color: #fff; }
.btn-calc.equal { background-color: var(--accent-color); color: #fff; grid-column: span 2; }

footer {
    margin-top: 20px;
    font-size: 10px;
    color: var(--secondary-text);
}
</style>
</head>
<body>

<h1>Calculator</h1>
<div class="subtitle">Pro Tools Suite</div>

<div class="ad-space">Top Ad Banner (320x50)</div>

<div class="main-container">
    <button id="theme-toggle">Toggle Theme üåì</button>
    
    <div id="calc-display">0</div>

    <div class="calc-buttons">
        <button class="btn-calc ac" onclick="clearDisplay()">AC</button>
        <button class="btn-calc op" onclick="appendOperator('/')">√∑</button>
        <button class="btn-calc op" onclick="appendOperator('*')">√ó</button>
        <button class="btn-calc op" onclick="appendOperator('-')">‚àí</button>
        
        <button class="btn-calc" onclick="appendNumber('7')">7</button>
        <button class="btn-calc" onclick="appendNumber('8')">8</button>
        <button class="btn-calc" onclick="appendNumber('9')">9</button>
        <button class="btn-calc op" onclick="appendOperator('+')">+</button>
        
        <button class="btn-calc" onclick="appendNumber('4')">4</button>
        <button class="btn-calc" onclick="appendNumber('5')">5</button>
        <button class="btn-calc" onclick="appendNumber('6')">6</button>
        <button class="btn-calc" onclick="appendNumber('.')">.</button>
        
        <button class="btn-calc" onclick="appendNumber('1')">1</button>
        <button class="btn-calc" onclick="appendNumber('2')">2</button>
        <button class="btn-calc" onclick="appendNumber('3')">3</button>
        <button class="btn-calc" onclick="appendNumber('0')">0</button>
        
        <button class="btn-calc equal" onclick="calculate()">=</button>
    </div>
</div>

<div class="ad-space">Bottom Ad Banner (320x50)</div>

<footer>
    Pro Calculator v1.0. Designed for musicians.
</footer>

<script>
    const display = document.getElementById('calc-display');
    const themeToggle = document.getElementById('theme-toggle');
    let currentInput = '0';
    let shouldResetDisplay = false;

    // Theme Toggle
    themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('light-theme');
    });

    function updateDisplay() {
        display.innerText = currentInput;
    }

    function clearDisplay() {
        currentInput = '0';
        updateDisplay();
    }

    function appendNumber(number) {
        if (currentInput === '0' || shouldResetDisplay) {
            currentInput = number;
            shouldResetDisplay = false;
        } else {
            currentInput += number;
        }
        updateDisplay();
    }

    function appendOperator(operator) {
        if (shouldResetDisplay) shouldResetDisplay = false;
        // Previne m√∫ltiplos operadores seguidos
        if (['+','-','*','/'].includes(currentInput.slice(-1))) {
            currentInput = currentInput.slice(0, -1) + operator;
        } else {
            currentInput += operator;
        }
        updateDisplay();
    }

    function calculate() {
        try {
            // Avalia a string matem√°tica com seguran√ßa limitada
            let result = eval(currentInput);
            currentInput = result.toString();
            shouldResetDisplay = true;
            updateDisplay();
        } catch (e) {
            currentInput = 'Error';
            updateDisplay();
            shouldResetDisplay = true;
        }
    }
</script>
</body>
</html>
